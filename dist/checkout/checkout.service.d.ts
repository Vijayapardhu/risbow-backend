import { PrismaService } from '../prisma/prisma.service';
import { Prisma } from '@prisma/client';
export declare class CheckoutService {
    private prisma;
    constructor(prisma: PrismaService);
    captureCheckout(data: {
        userId?: string;
        guestInfo?: any;
        cartItems: any[];
        financeDetails: any;
        source?: string;
    }): Promise<{
        id: string;
        createdAt: Date;
        updatedAt: Date;
        userId: string | null;
        status: import(".prisma/client").$Enums.CheckoutRecoveryStatus;
        agentId: string | null;
        guestInfo: Prisma.JsonValue | null;
        cartSnapshot: Prisma.JsonValue;
        financeSnapshot: Prisma.JsonValue;
        metadata: Prisma.JsonValue | null;
        lockedUntil: Date | null;
        abandonedAt: Date;
    }>;
    private calculatePersuasionMetadata;
    getCheckouts(params: {
        skip?: number;
        take?: number;
        cursor?: Prisma.AbandonedCheckoutWhereUniqueInput;
        where?: Prisma.AbandonedCheckoutWhereInput;
        orderBy?: Prisma.AbandonedCheckoutOrderByWithRelationInput;
    }): Promise<({
        user: {
            id: string;
            name: string | null;
            createdAt: Date;
            updatedAt: Date;
            mobile: string;
            email: string | null;
            password: string | null;
            role: import(".prisma/client").$Enums.UserRole;
            status: import(".prisma/client").$Enums.UserStatus;
            coinsBalance: number;
            referralCode: string;
            referredBy: string | null;
            dateOfBirth: Date | null;
            gender: string | null;
            size: string | null;
            footwearSize: number | null;
            stylePrefs: string | null;
            colors: string | null;
            riskTag: import(".prisma/client").$Enums.RiskTag;
            valueTag: import(".prisma/client").$Enums.ValueTag;
            isCodDisabled: boolean;
            isRefundsDisabled: boolean;
            kycStatus: string;
            kycDocuments: Prisma.JsonValue | null;
            miscDocuments: Prisma.JsonValue | null;
            forceLogoutAt: Date | null;
        };
        agent: {
            id: string;
            name: string | null;
            createdAt: Date;
            updatedAt: Date;
            mobile: string;
            email: string | null;
            password: string | null;
            role: import(".prisma/client").$Enums.UserRole;
            status: import(".prisma/client").$Enums.UserStatus;
            coinsBalance: number;
            referralCode: string;
            referredBy: string | null;
            dateOfBirth: Date | null;
            gender: string | null;
            size: string | null;
            footwearSize: number | null;
            stylePrefs: string | null;
            colors: string | null;
            riskTag: import(".prisma/client").$Enums.RiskTag;
            valueTag: import(".prisma/client").$Enums.ValueTag;
            isCodDisabled: boolean;
            isRefundsDisabled: boolean;
            kycStatus: string;
            kycDocuments: Prisma.JsonValue | null;
            miscDocuments: Prisma.JsonValue | null;
            forceLogoutAt: Date | null;
        };
        followups: {
            id: string;
            createdAt: Date;
            agentId: string;
            note: string;
            checkoutId: string;
            outcome: import(".prisma/client").$Enums.CallOutcome | null;
        }[];
    } & {
        id: string;
        createdAt: Date;
        updatedAt: Date;
        userId: string | null;
        status: import(".prisma/client").$Enums.CheckoutRecoveryStatus;
        agentId: string | null;
        guestInfo: Prisma.JsonValue | null;
        cartSnapshot: Prisma.JsonValue;
        financeSnapshot: Prisma.JsonValue;
        metadata: Prisma.JsonValue | null;
        lockedUntil: Date | null;
        abandonedAt: Date;
    })[]>;
    getCheckoutById(id: string): Promise<{
        user: {
            id: string;
            name: string | null;
            createdAt: Date;
            updatedAt: Date;
            mobile: string;
            email: string | null;
            password: string | null;
            role: import(".prisma/client").$Enums.UserRole;
            status: import(".prisma/client").$Enums.UserStatus;
            coinsBalance: number;
            referralCode: string;
            referredBy: string | null;
            dateOfBirth: Date | null;
            gender: string | null;
            size: string | null;
            footwearSize: number | null;
            stylePrefs: string | null;
            colors: string | null;
            riskTag: import(".prisma/client").$Enums.RiskTag;
            valueTag: import(".prisma/client").$Enums.ValueTag;
            isCodDisabled: boolean;
            isRefundsDisabled: boolean;
            kycStatus: string;
            kycDocuments: Prisma.JsonValue | null;
            miscDocuments: Prisma.JsonValue | null;
            forceLogoutAt: Date | null;
        };
        agent: {
            id: string;
            name: string | null;
            createdAt: Date;
            updatedAt: Date;
            mobile: string;
            email: string | null;
            password: string | null;
            role: import(".prisma/client").$Enums.UserRole;
            status: import(".prisma/client").$Enums.UserStatus;
            coinsBalance: number;
            referralCode: string;
            referredBy: string | null;
            dateOfBirth: Date | null;
            gender: string | null;
            size: string | null;
            footwearSize: number | null;
            stylePrefs: string | null;
            colors: string | null;
            riskTag: import(".prisma/client").$Enums.RiskTag;
            valueTag: import(".prisma/client").$Enums.ValueTag;
            isCodDisabled: boolean;
            isRefundsDisabled: boolean;
            kycStatus: string;
            kycDocuments: Prisma.JsonValue | null;
            miscDocuments: Prisma.JsonValue | null;
            forceLogoutAt: Date | null;
        };
        followups: ({
            agent: {
                id: string;
                name: string | null;
                createdAt: Date;
                updatedAt: Date;
                mobile: string;
                email: string | null;
                password: string | null;
                role: import(".prisma/client").$Enums.UserRole;
                status: import(".prisma/client").$Enums.UserStatus;
                coinsBalance: number;
                referralCode: string;
                referredBy: string | null;
                dateOfBirth: Date | null;
                gender: string | null;
                size: string | null;
                footwearSize: number | null;
                stylePrefs: string | null;
                colors: string | null;
                riskTag: import(".prisma/client").$Enums.RiskTag;
                valueTag: import(".prisma/client").$Enums.ValueTag;
                isCodDisabled: boolean;
                isRefundsDisabled: boolean;
                kycStatus: string;
                kycDocuments: Prisma.JsonValue | null;
                miscDocuments: Prisma.JsonValue | null;
                forceLogoutAt: Date | null;
            };
        } & {
            id: string;
            createdAt: Date;
            agentId: string;
            note: string;
            checkoutId: string;
            outcome: import(".prisma/client").$Enums.CallOutcome | null;
        })[];
    } & {
        id: string;
        createdAt: Date;
        updatedAt: Date;
        userId: string | null;
        status: import(".prisma/client").$Enums.CheckoutRecoveryStatus;
        agentId: string | null;
        guestInfo: Prisma.JsonValue | null;
        cartSnapshot: Prisma.JsonValue;
        financeSnapshot: Prisma.JsonValue;
        metadata: Prisma.JsonValue | null;
        lockedUntil: Date | null;
        abandonedAt: Date;
    }>;
    assignLead(checkoutId: string, agentId: string): Promise<{
        agent: {
            id: string;
            name: string | null;
            createdAt: Date;
            updatedAt: Date;
            mobile: string;
            email: string | null;
            password: string | null;
            role: import(".prisma/client").$Enums.UserRole;
            status: import(".prisma/client").$Enums.UserStatus;
            coinsBalance: number;
            referralCode: string;
            referredBy: string | null;
            dateOfBirth: Date | null;
            gender: string | null;
            size: string | null;
            footwearSize: number | null;
            stylePrefs: string | null;
            colors: string | null;
            riskTag: import(".prisma/client").$Enums.RiskTag;
            valueTag: import(".prisma/client").$Enums.ValueTag;
            isCodDisabled: boolean;
            isRefundsDisabled: boolean;
            kycStatus: string;
            kycDocuments: Prisma.JsonValue | null;
            miscDocuments: Prisma.JsonValue | null;
            forceLogoutAt: Date | null;
        };
    } & {
        id: string;
        createdAt: Date;
        updatedAt: Date;
        userId: string | null;
        status: import(".prisma/client").$Enums.CheckoutRecoveryStatus;
        agentId: string | null;
        guestInfo: Prisma.JsonValue | null;
        cartSnapshot: Prisma.JsonValue;
        financeSnapshot: Prisma.JsonValue;
        metadata: Prisma.JsonValue | null;
        lockedUntil: Date | null;
        abandonedAt: Date;
    }>;
    addFollowup(data: {
        checkoutId: string;
        agentId: string;
        note: string;
        outcome: any;
    }): Promise<{
        id: string;
        createdAt: Date;
        agentId: string;
        note: string;
        checkoutId: string;
        outcome: import(".prisma/client").$Enums.CallOutcome | null;
    }>;
}
